// Wait for DOM to fully load
document.addEventListener('DOMContentLoaded', function() {
    // Mobile menu toggle
    const hamburger = document.querySelector('.hamburger');
    const navLinks = document.querySelector('.nav-links');
    
    hamburger.addEventListener('click', () => {
        navLinks.classList.toggle('active');
    });
    
    // Close mobile menu when clicking on a link
    document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
            navLinks.classList.remove('active');
        });
    });
    
    // Smooth scrolling for navigation links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if(targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if(targetElement) {
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // Form submission
    const contactForm = document.querySelector('.contact-form');
    if(contactForm) {
        contactForm.addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Thank you for your message! I will get back to you soon.');
            contactForm.reset();
        });
    }
    
    // View My Work button
    const heroBtn = document.querySelector('.hero-btn');
    if(heroBtn) {
        heroBtn.addEventListener('click', () => {
            document.querySelector('#projects').scrollIntoView({
                behavior: 'smooth'
            });
        });
    }
    
    // Animate elements on scroll
    const animatedElements = document.querySelectorAll('.skill, .project');
    
    function checkScroll() {
        animatedElements.forEach(element => {
            const elementPosition = element.getBoundingClientRect().top;
            const screenPosition = window.innerHeight / 1.3;
            
            if (elementPosition < screenPosition) {
                element.style.opacity = 1;
                element.style.transform = 'translateY(0)';
            }
        });
    }
    
    // Set initial state for animated elements
    animatedElements.forEach(element => {
        element.style.opacity = 0;
        element.style.transform = 'translateY(50px)';
        element.style.transition = 'all 0.8s ease';
    });
    
    window.addEventListener('scroll', checkScroll);
    checkScroll(); // Check on initial load
    
    // Add floating flowers animation
    const floralElements = document.querySelectorAll('.floral-element');
    floralElements.forEach((element, index) => {
        element.style.animationDelay = `${index * 0.5}s`;
    });
    
    // Add interactive flower elements on click
    document.addEventListener('click', function(e) {
        if (e.clientY > 100) { // Don't create flowers at the very top
            createFlower(e.clientX, e.clientY);
        }
    });
    
    function createFlower(x, y) {
        const flower = document.createElement('div');
        flower.classList.add('floral-element');
        flower.innerHTML = '<i class="fas fa-leaf"></i>';
        flower.style.position = 'fixed';
        flower.style.left = `${x}px`;
        flower.style.top = `${y}px`;
        flower.style.zIndex = '1';
        flower.style.fontSize = '2rem';
        flower.style.color = `hsl(${Math.random() * 360}, 70%, 65%)`;
        flower.style.pointerEvents = 'none';
        flower.style.animation = 'float 4s ease-in-out forwards';
        
        document.body.appendChild(flower);
        
        // Remove flower after animation completes
        setTimeout(() => {
            document.body.removeChild(flower);
        }, 4000);
    }
});
